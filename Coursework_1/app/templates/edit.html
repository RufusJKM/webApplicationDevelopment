{% extends "base.html" %}
{% block content %}
<!-- Form messages for when data is not entered -->
{% with messages = get_flashed_messages() %}
   {% if messages %}
    <ul>
     {% for message in messages %}
       <li>{{ message }} </li>
     {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
<h1>Pick an assessment to change</h1>
<!-- Prints out assessment id and name for all assessments -->
<div>
    {% for a in assessments %}
        | Assessment {{ a.id }}: {{ a.title }} |
    {% endfor %}
</div>
<!-- Takes an integer assessment id 
 becomes hidden once validated -->
 {% if valid == false %}
    <form action="" method="post" name="new">
        {{ ChooseForm.hidden_tag() }}
        <p>
            Assessment number {{ ChooseForm.chooseAssessment }}
            <input type="submit" value="Submit">
        </p>
    </form>
{% endif %}
<!-- Hides the second part of the form unless a valid id is entered -->
{% if valid == true %}
    <form action="" method="post" name="new">
        {{ EditForm.hidden_tag() }}
        <p>Enter new details into the corresponding fields</p>
        <p>
            Title: {{ EditForm.title(value=chosenAssessment.title) }}<br>
        </p>
        <p>
        Course Code: {{ EditForm.code(value=chosenAssessment.module_code) }}<br>
        </p>
        <p>
            Deadline date: {{ EditForm.dueDate(value=chosenAssessment.deadline_date) }}<br>
        </p>
        <p>
            Description: {{ chosenAssessment.description }} >>> {{ EditForm.description(value=chosenAssessment.description) }}<br>
        </p>
        <p>Completed: {{ EditForm.completed(value=chosenAssessment.completed) }}</p>
        <p><input type="submit" value="Submit"></p>
    </form>
{% endif %} 
{{edit.description}}
{% endblock %}